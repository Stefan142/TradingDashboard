{% extends "layout-sidenav-dark.html" %}

{% block title %}InvestCraft - Dashboard{% endblock %}

{% block page_content %}
<main>
    <div class="container-fluid px-4">
        <h1 class="mt-4">Dashboard</h1>
        <div class="row">
            <div class="col-xl-6" style="height: 500px;">
                <div class="card mb-4 draggable" id="mydiv" style="height: 500px; width: 650px;">
                    <div id="mydivheader" class="card-header">
                        <i class="fas fa-chart-area me-1"></i>
                        Charts
                    </div>
                    <!-- TradingView Widget BEGIN -->
                    <div class="tradingview-widget-container" style="height: 100%; width: 100%;">
                        <div id="tradingview_28194" style="height: 100%; width: 100%;"></div>
                        <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                        <script type="text/javascript">
                            new TradingView.widget(
                                {
                                    "autosize": true,
                                    "symbol": "NASDAQ:AAPL",
                                    "interval": "D",
                                    "timezone": "Europe/Amsterdam",
                                    "theme": "dark",
                                    "style": "1",
                                    "locale": "en",
                                    "enable_publishing": false,
                                    "withdateranges": true,
                                    "hide_side_toolbar": {{ drawing_tool_enabled | lower | safe }} ?false : true,
                                "watchlist": {{ data | safe}},
                                "allow_symbol_change": true,
                                "save_image": false,
                                "container_id": "tradingview_28194"
                                }
                            );
                        </script>
                    </div>
                    <!-- TradingView Widget END -->
                </div>
            </div>
            <div class="col-xl-6 d-flex justify-content-end" style="height: 500px;">
                <div class="card mb-4 draggable news-card-container" id="mydiv2" style="height: 500px; width: 450px;">
                    <div class="card-header" id="mydiv2header">
                        <i class="fas fa-chart-bar me-1"></i>
                        Top news
                    </div>
                    <!-- TradingView Widget BEGIN -->
                    <div class="tradingview-widget-container">
                        <div class="tradingview-widget-container__widget"></div>
                        <script type="text/javascript"
                            src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js">
                                {
                                    "feedMode": "all_symbols",
                                        "colorTheme": "dark",
                                            "isTransparent": false,
                                                "displayMode": "regular",
                                                    "width": "100%",
                                                        "height": "100%",
                                                            "locale": "en"
                                }
                            </script>
                    </div>
                    <!-- TradingView Widget END -->
                </div>
            </div>
        </div>
        <div class="card mb-4 resizable" id="mydiv" style="height: 500px; width: 1200px;">
            <div class="card-header">
                <i class="fas fa-table me-1"></i>
                DataTable
            </div>
            <!-- TradingView Widget BEGIN -->
            <div class="tradingview-widget-container">
                <div class="tradingview-widget-container__widget"></div>
                <script type="text/javascript"
                    src="https://s3.tradingview.com/external-embedding/embed-widget-financials.js" async>
                        {
                            "isTransparent": false,
                                "largeChartUrl": "",
                                    "displayMode": "adaptive",
                                        "width": "100%",
                                            "height": "100%",
                                                "colorTheme": "dark",
                                                    "symbol": "{{ financialsymbol | default('NASDAQ:AAPL') | safe }}",
                                                        "locale": "en"
                        }
                    </script>
            </div>
            <!-- TradingView Widget END -->
        </div>
    </div>
</main>
{% endblock %}